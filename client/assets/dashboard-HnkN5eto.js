import{w as k}from"./with-props-C8mF_sJX.js";import{a as n,n as e}from"./chunk-KNED5TY2-DCK5ySxO.js";import{C as f,a as g,b as y,c as b,d as j,E,e as F}from"./expense-donut-chart-BkiyRFgL.js";function w(r){return{Housing:"#FF6384",Food:"#36A2EB",Transportation:"#FFCE56",Entertainment:"#4BC0C0",Utilities:"#9966FF",Healthcare:"#FF9F40"}[r]||"#000000"}function T(){const[r,a]=n.useState([]),[s,o]=n.useState(0),[c,t]=n.useState(!1);function m(){fetch("http://localhost:4000/api/expenses",{method:"GET"}).then(l=>{l.json().then(d=>{console.log("json data: ",d);const i=p(d.data).map(u=>({category:u.category,amount:u.amount,color:w(u.category)}));a(i),console.log("Expense data:",i);const x=i.reduce((u,v)=>u+v.amount,0);o(x),console.log("Total expense:",x)})})}function p(l){return l.sort((d,i)=>i.amount-d.amount)}return n.useEffect(()=>{console.log("fetching data....."),t(!0);try{m(),console.log("Data fetched successfully")}catch(l){console.error("Error fetching data:",l)}finally{t(!1)}},[]),e.jsxs(f,{className:"w-full",children:[e.jsxs(g,{children:[e.jsx(y,{children:"Monthly Expenses"}),e.jsxs(b,{children:["Your spending for ",new Date().toLocaleString("default",{month:"long"})," ",new Date().getFullYear()]})]}),e.jsx(j,{children:e.jsx("div",{className:"flex flex-col items-center",children:c?e.jsx("div",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(E,{data:r}),e.jsxs("div",{className:"mt-4 text-2xl font-bold",children:["$",s.toLocaleString()]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-6 w-full",children:p(r).map((l,d)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),e.jsx("span",{className:"text-sm",children:l.category}),e.jsxs("span",{className:"text-sm font-medium ml-auto",children:["$",l.amount]})]},`${l.category}-${d}`))}),e.jsx("button",{onClick:m,style:{cursor:"pointer"},className:"mt-10 bg-black text-white px-4 py-2 rounded hover:bg-gray-100 hover:text-black",children:e.jsx("span",{children:"Update"})})]})})})]})}function B(){const[r,a]=n.useState([]);return n.useEffect(()=>{console.log("Fetching transaction data..."),fetch("http://localhost:4000/api/transactions",{method:"GET"}).then(s=>{s.json().then(o=>{console.log("Transaction data:",o);const c=o.data.map(t=>({description:t.description,amount:t.amount,category:t.category,categoryColor:w(t.category),date:new Date(t.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}));a(c),console.log("Transactions:",c)})}).catch(s=>{console.error("Error fetching transaction data:",s)}).finally(()=>{console.log("Transaction data fetch completed")})},[]),e.jsxs(f,{className:"w-full h-full",children:[e.jsxs(g,{children:[e.jsx(y,{children:"Recent Transactions"}),e.jsx(b,{children:"Your recent spending activities"})]}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:r.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No transactions found"}):r.map((s,o)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${s.categoryColor}20`},children:e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.categoryColor}})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.description}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.category," â€¢ ",s.date]})]})]}),e.jsxs("span",{className:"font-semibold",children:["$",s.amount.toFixed(2)]})]},o))})})]})}/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,s,o)=>o?o.toUpperCase():s.toLowerCase()),h=r=>{const a=D(r);return a.charAt(0).toUpperCase()+a.slice(1)},C=(...r)=>r.filter((a,s,o)=>!!a&&a.trim()!==""&&o.indexOf(a)===s).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=n.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:t,iconNode:m,...p},l)=>n.createElement("svg",{ref:l,...L,width:a,height:a,stroke:r,strokeWidth:o?Number(s)*24/Number(a):s,className:C("lucide",c),...p},[...m.map(([d,i])=>n.createElement(d,i)),...Array.isArray(t)?t:[t]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=(r,a)=>{const s=n.forwardRef(({className:o,...c},t)=>n.createElement(S,{ref:t,iconNode:a,className:C(`lucide-${A(h(r))}`,`lucide-${r}`,o),...c}));return s.displayName=h(r),s};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],I=$("plus",z),N=n.forwardRef(({className:r,...a},s)=>e.jsx("button",{ref:s,className:F("inline-flex items-center justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r),...a}));N.displayName="Button";function R(){return e.jsx("div",{children:e.jsxs("form",{className:"mt-4 justify-center lg:grid-cols-4 gap-6 fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg z-50",children:[e.jsxs("div",{className:"relative z-0 lg:col-span-2",children:[e.jsx("input",{type:"number",name:"amount",className:"block py-2.5 px-0 text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" "}),e.jsx("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto",children:"Amount"})]}),e.jsxs("div",{className:"mt-4 relative z-0 lg:col-span-2",children:[e.jsx("input",{type:"text",name:"category",className:"block py-2.5 px-0 text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" "}),e.jsx("label",{className:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto",children:"Category"})]}),e.jsx(N,{className:"mt-4",type:"submit",children:"Add Transaction"})]})})}function U(){const[r,a]=n.useState(!1);function s(){let t=document.getElementById("blur-background");t||(t=document.createElement("div"),t.id="blur-background",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.style.backdropFilter="blur(5px)",t.style.zIndex="998",document.body.appendChild(t))}function o(){const t=document.getElementById("blur-background");t&&document.body.removeChild(t)}const c=()=>{a(!r),r?o():s()};return e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[999]",children:e.jsx(R,{})}),e.jsx("button",{onClick:c,className:"fixed bottom-6 right-6 w-14 h-14 bg-primary text-primary-foreground rounded-full flex items-center justify-center shadow-lg hover:bg-primary/90 transition-colors","aria-label":"Add transaction",children:e.jsx(I,{className:"w-6 h-6"})})]})}const Y=k(function(){return e.jsxs("div",{children:[e.jsxs("main",{className:"container mx-auto p-4 md:p-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Expense Tracker"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(T,{})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(B,{})})]})]}),e.jsx(U,{})]})});export{Y as default};
